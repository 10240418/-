# 白酒品质检测系统

本系统是一个基于Python的白酒掺伪量检测应用程序，使用CustomTkinter构建现代化图形界面，并使用SQLite数据库存储用户信息和分析历史记录。

## 系统特点

- **现代化界面**：使用CustomTkinter构建的美观、现代的用户界面
- **数据库支持**：使用SQLite数据库存储用户信息和分析历史记录
- **多功能分析**：支持白酒掺伪量分析预测和白酒真伪分类
- **可视化展示**：使用Matplotlib绘制分析结果图表
- **多选项卡界面**：支持分析、历史记录和设置等功能的快速切换
- **主题切换**：支持深色和浅色模式，以及多种颜色主题
- **用户管理**：多用户登录系统，支持权限控制

## 工作流程

```
+---------------+
|    启动应用    |
+-------+-------+
        |
        v
+---------------+
|   用户登录     |
+-------+-------+
        |
        v
+---------------+
|   主界面选择   |
+-------+-------+
        |
        +-----------------+------------------+-------------------+
        |                 |                  |                   |
        v                 v                  v                   v
+----------------+ +----------------+ +----------------+ +----------------+
| 掺伪量分析预测 | | 白酒真伪分类   | |  历史记录查看  | |   系统设置     |
+--------+-------+ +--------+-------+ +--------+-------+ +----------------+
        |                 |                  |
        v                 v                  v
+----------------+ +----------------+ +----------------+
|  选择数据文件  | |  选择数据文件  | | 查看分析历史   |
+--------+-------+ +--------+-------+ +--------+-------+
        |                 |                  |
        v                 v                  v
+----------------+ +----------------+ +----------------+
|   数据分析     | |   数据分类     | | 导出分析记录   |
+--------+-------+ +--------+-------+ +----------------+
        |                 |
        v                 v
+----------------+ +----------------+
| 结果可视化展示 | | 结果置信度展示 |
+--------+-------+ +--------+-------+
        |                 |
        v                 v
+----------------+ +----------------+
|  保存分析结果  | |  保存分析结果  |
+----------------+ +----------------+
```

## 系统要求

- Python 3.8+ (建议使用Python 3.9或3.10)
- 以下Python库：
  - customtkinter
  - numpy
  - pandas
  - matplotlib
  - pillow

## 快速启动

1. 确保已安装Python和所需依赖：
   ```
   pip install customtkinter pandas numpy matplotlib pillow
   ```

2. 运行启动脚本：
   ```
   start_baijiu_app.bat
   ```
   或直接启动Python应用：
   ```
   python baijiu_app.py
   ```

3. 脚本会自动：
   - 创建必要的目录结构
   - 初始化SQLite数据库
   - 启动应用程序

## 登录信息

默认用户：
- 管理员：用户名 `admin`，密码 `admin123`
- 测试用户：用户名 `user1`，密码 `123456`

## 使用方法

1. **登录系统**：使用默认账户或已创建的账户登录
2. **掺伪量分析预测**：
   - 选择"掺伪量分析预测"选项卡
   - 点击"浏览"选择CSV或Excel格式的光谱数据文件
   - 点击"开始分析"进行掺伪量检测
   - 系统会显示分析结果和图表
   - 可保存分析结果到文本文件
3. **白酒真伪分类**：
   - 选择"白酒真伪分类"选项卡
   - 点击"浏览"选择CSV或Excel格式的光谱数据文件
   - 点击"开始分类"进行真伪分类
   - 系统会显示分类结果和各类别的置信度
   - 可保存分类结果到文本文件
4. **查看历史记录**：
   - 选择"历史记录"选项卡查看过去的分析记录
   - 点击"刷新历史记录"更新列表
   - 可导出历史记录为TXT或CSV格式
5. **系统设置**：
   - 选择"设置"选项卡调整系统外观
   - 可以切换深色/浅色模式
   - 可以更改颜色主题

## 文件结构

- `baijiu_app.py` - 主应用程序
- `start_baijiu_app.bat` - 启动脚本
- `database/` - 数据库相关文件
  - `db_manager.py` - 数据库管理类
  - `init_db.py` - 数据库初始化脚本
  - `baijiu.db` - SQLite数据库文件
- `logs/` - 应用日志
- `history/` - 分析结果保存目录

## 疑难解答

1. **应用程序无法启动**：
   - 确保已安装所有必要的依赖库
   - 检查Python版本是否为3.8+
   - 查看日志文件 `logs/app.log` 获取详细错误信息

2. **数据库连接失败**：
   - 检查数据库文件是否存在
   - 确保有相应目录的读写权限
   - 尝试手动初始化数据库: `python database/init_db.py`

3. **界面显示问题**：
   - 尝试切换界面主题
   - 如果使用远程桌面，确保支持GUI显示

4. **分析失败**：
   - 确保上传的是有效的光谱数据文件
   - 检查文件格式是否为CSV或Excel
   - 查看日志文件 `logs/app.log` 获取详细错误信息

## 版本兼容性

- 建议使用Python 3.9或3.10版本
- 如果使用Python 3.11+，部分功能可能需要更新依赖库

## 开发者信息

四川农业大学白酒品质检测系统
© 2024 版权所有



